<% if (files.length > 0) { %>

<%
    const addressFormat = settings.tables.memory.columns.address.format;
    const valueFormat = settings.tables.memory.columns.value.format;
%>

<div class="component">
    <div class="title">Memory</div>
    <div class="table">
        <div class="cols-names">
            <div class="col address">
                <div class="col-name">Address</div>
                <div class="col-format">
                    <select name="col-format" id="col-format-memory-address">
                        <option value="decimal" <%= addressFormat === "decimal" ? "selected" : "" %>>Decimal</option>
                        <option value="hex" <%= addressFormat === "hex" ? "selected" : "" %>>Hexadecimal</option>
                        <option value="binary" <%= addressFormat === "binary" ? "selected" : "" %>>Binary</option>
                    </select>
                </div>
            </div>
            <div class="col value">
                <div class="col-name">Value</div>
                <div class="col-format">
                    <select name="col-format" id="col-format-memory-value">
                        <option value="decimal" <%= valueFormat === "decimal" ? "selected" : "" %>>Decimal</option>
                        <option value="hex" <%= valueFormat === "hex" ? "selected" : "" %>>Hexadecimal</option>
                        <option value="ascii" <%= valueFormat === "ascii" ? "selected" : "" %>>Text</option>
                        <option value="asm" <%= valueFormat === "asm" ? "selected" : "" %>>MIPS Instruction</option>
                        <option value="binary" <%= valueFormat === "binary" ? "selected" : "" %>>Binary</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="rows">
            <%memory.forEach((cell) => {%>
            <div class="row <%if (vm.cpu.pc.getValue() === cell.address){%> next-instruction <%}%>">
                <div class="col address"><%=convert(addressFormat, cell.address)%></div>
                <div class="col value"><%=convert(valueFormat, cell.value)%></div>
            </div>
            <%});%>
        </div>
    </div>
</div>

<% } %>